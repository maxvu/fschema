<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>fschema</title>
    <meta name="description" content="A Node.js validation library">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="theme-color" content="#fafafa">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>

    <style type="text/css">
        :root {
            --bg1: #1A3C40;
            --bg2: #1D5C63;
            --bg3: #417D7A;
            --fg1: #EDE6DB;
        }

        body {
            font-family: 'Roboto', sans-serif;
            width: 900px;
            margin: auto;
            background-color : var(--bg1);
            overflow: auto;
            color: #eed;
        }

        #mainNav {
            color: inherit;
            background-color: var(--bg2);
            position: fixed;
            left: calc(50%-400px);
            width: 200px;
            height: 100%;
        }

        #mainNav ul {
            padding: 0 0 0 15px;
        }

        #mainNav li {
            list-style-type: none;
        }

        #mainNav a {
            display: block;
            text-decoration: none;
            color: inherit;
            padding: 1px 5px;
            font-size: 100%;
        }

        #mainNav a:hover {
            background-color: var(--bg3);
        }

        #contain {
            margin-left: 225px;
        }

        #contain > header > h1 {
            color: var(--ac2);
        }

        #contain section, #contain .subsection {
            padding-top: 75px;
        }

        /*!
          Theme: Gruvbox dark, medium
          Author: Dawid Kurek (dawikur@gmail.com), morhetz (https://github.com/morhetz/gruvbox)
          License: ~ MIT (or more permissive) [via base16-schemes-source]
          Maintainer: @highlightjs/core-team
          Version: 2021.09.0
        */
        pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#d5c4a1;background:#282828}.hljs ::selection,.hljs::selection{background-color:#504945;color:#d5c4a1}.hljs-comment{color:#665c54}.hljs-tag{color:#bdae93}.hljs-operator,.hljs-punctuation,.hljs-subst{color:#d5c4a1}.hljs-operator{opacity:.7}.hljs-bullet,.hljs-deletion,.hljs-name,.hljs-selector-tag,.hljs-template-variable,.hljs-variable{color:#fb4934}.hljs-attr,.hljs-link,.hljs-literal,.hljs-number,.hljs-symbol,.hljs-variable.constant_{color:#fe8019}.hljs-class .hljs-title,.hljs-title,.hljs-title.class_{color:#fabd2f}.hljs-strong{font-weight:700;color:#fabd2f}.hljs-addition,.hljs-code,.hljs-string,.hljs-title.class_.inherited__{color:#b8bb26}.hljs-built_in,.hljs-doctag,.hljs-keyword.hljs-atrule,.hljs-quote,.hljs-regexp{color:#8ec07c}.hljs-attribute,.hljs-function .hljs-title,.hljs-section,.hljs-title.function_,.ruby .hljs-property{color:#83a598}.diff .hljs-meta,.hljs-keyword,.hljs-template-tag,.hljs-type{color:#d3869b}.hljs-emphasis{color:#d3869b;font-style:italic}.hljs-meta,.hljs-meta .hljs-keyword,.hljs-meta .hljs-string{color:#d65d0e}.hljs-meta .hljs-keyword,.hljs-meta-keyword{font-weight:700}

        </style>


</head>

<body>
    <nav id="mainNav">
        <ul>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#example">Quick example</a></li>
            <li><a href="#installation">Installing</a></li>
            <li>
                <a href="#creating-schemas">Creating schemas</a>
                <ul>
                    <li>
                        <a href="#primitive-types">Primitive types</a>
                        <ul>
                            <li>
                                <a href="#bool">
                                    <code>bool()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#num">
                                    <code>num()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#str">
                                    <code>str()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#fun">
                                    <code>fun()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#enum">
                                    <code>enum()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#lit">
                                    <code>lit()</code>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="#create-recursive">Recursive types</a>
                        <ul>
                            <li>
                                <a href="#arr">
                                    <code>arr()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#obj">
                                    <code>obj()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#tup">
                                    <code>tup()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#sum">
                                    <code>sum()</code>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="#create-special">Special types</a>
                        <ul>
                            <li>
                                <a href="#scm">
                                    <code>scm()</code>
                                </a>
                            </li>
                            <li>
                                <a href="#none">
                                    <code>none()</code>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><a href="#using">Using schemas</a></li>
            <li><a href="#extending">Extending schemas</a></li>
        </ul>
    </nav>

    <div id="contain">
        <header>
            <h1>fschema</h1>
            <span class="tagline">A Node.js validation library</span>
        </header>

        <section id="introduction">
            <header>
                <h1>Introduction</h1>
            </header>
            <p><code>fschema</code> is a simple, dependency-free validation library meant to strike a balance between
                tedious manual Javascript validation and TypeScript integration. It uses a command-function declarative
                style, models a fixed number of types that are normally encountered in services development and provides
                 a straightforward mechanism for type customization.</p>
             <p>It does not provide either error message internationalization support or very complete string pattern
                 validation, and so is better suited to services development than frontend.</p>
            <p></p>
            <footer></footer>
        </section>

        <section id="example">
            <header>
                <h1>Quick example</h1>
            </header>
            <code class="code-sample">
                <pre><code class="hljs javascript"><span class="hljs-meta">'use strict'</span><br /><span class="hljs-keyword">const</span> fschema = <span class="hljs-built_in">require</span>( <span class="hljs-string">'./index'</span> )<br /><br /><span class="hljs-comment">// Create a schema of an object that has properties `x` and `y`.</span><br /><span class="hljs-keyword">const</span> point2d = fschema.obj({<br />    <span class="hljs-attr">x</span> : <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.num().fin(),<br />    <span class="hljs-attr">y</span> : <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.num().fin()<br />})<br /><br /><span class="hljs-comment">// Define two values to validate.</span><br /><span class="hljs-keyword">const</span> p1 = { <span class="hljs-attr">x</span> : <span class="hljs-string">'0'</span>, <span class="hljs-attr">y</span> : <span class="hljs-literal">Infinity</span> }<br /><span class="hljs-keyword">const</span> p2 = <span class="hljs-literal">null</span><br /><br /><span class="hljs-comment">// ok() indicates whether the value satisfies the schema.</span><br />point2d.apply( p1, <span class="hljs-string">'origin'</span> ).ok() <span class="hljs-comment">// false</span><br /><br /><span class="hljs-comment">// apply() details which errors occured where, along with descriptions.</span><br />point2d.apply( p1, <span class="hljs-string">'origin'</span> ).errors.map( <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.message )<br />    <span class="hljs-comment">// [ "origin.x must be a primitive number", "origin.y must be finite" ]</span><br /><br /><span class="hljs-comment">// assert() throws on failure.</span><br />point2d.assert( p2, <span class="hljs-string">'p2'</span> )<br /><span class="hljs-comment">/*<br />Error: p2 must be present<br />    at SchemaValidation.as_error (/app/fschema/src/validation.js:50:21)<br />    at ObjectSchema.assert (/app/fschema/src/schema.js:62:30)<br />    at Object.&lt;anonymous&gt; (/app/demo.js:15:9)<br />    ...<br />*/</span></code></pre>
            </code>
            <p></p>
            <p></p>
            <p></p>
            <footer></footer>
        </section>

        <section id="installation">
            <header>
                <h1>Installing</h1>
            </header>
            <pre><code class="hljs bash">$ npm install @maxvu/fschema</code></pre>
            <p></p>
            <p></p>
            <p></p>
            <footer></footer>
        </section>

        <section id="creating-schemas">
            <header>
                <h1>Creating schemas</h1>
            </header>
            <p>Create schemas by using the exported factory function and add additional refinements by method chaining:</p>
                <pre><code class="hljs javascript"><span class="hljs-comment">// any value, optional</span><br /><span class="hljs-keyword">const</span> any_value = fschema().opt()<br /><br /><span class="hljs-comment">// safe integers &gt;= 0</span><br /><span class="hljs-keyword">let</span> user_id = fschema.num().nat()<br /><br /><span class="hljs-comment">// object, with subschemas applied to certain properties</span><br /><span class="hljs-keyword">let</span> post = fschema.obj({<br />    <span class="hljs-attr">author</span>  : user_id,<br />    <span class="hljs-attr">title</span>   : <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.str(),<br />    <span class="hljs-attr">deleted</span> : <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.bool()<br />})<br /></code></pre>
            <p>A schema is create bare and, without any refinements will accept any "present" value: one that is neither
                <code>null</code> nor <code>undefined</code>. Chaining <code>opt()</code> ("optional") will accept those values. </p>
            <p>The main exported function exposes properties for each type named in this guide, which can also
                be accessed through a builder function argument that will be passed a bare schema. This style is particularly
                handy when defining recursive schemas: it offers shorter syntax by removing the need to name the imported
                module for each property.</p>
            <p>When the main exported function receives a schema as an argument, it will return the same value - not a copy.
                In order to avoid mistakenly applying refinements to multiply-referenced types, consider capturing their construction
                in a function:</p>
                <pre><code class="hljs javascript"><span class="hljs-keyword">const</span> account_id = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> fschema.num().nat()<br /><span class="hljs-keyword">const</span> transaction = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> fschema.obj({<br />    <span class="hljs-attr">from</span>   : account_id(),<br />    <span class="hljs-attr">to</span>     : account_id(),<br />    <span class="hljs-attr">amount</span> : <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> _.num().min( <span class="hljs-number">0</span> ).fin()<br />})</code></pre>
            <div class="subsection" id="primitive-types">
                <h2>Primitive Types</h2>
                <div class="subsection" id="bool">
                    <h3><code>bool()</code></h3>
                    <pre><code class="hljs javascript">fschema.bool()</code></pre>
                    <p>Accepts <code>true</code> and <code>false</code>.</p>
                </div>
                <div class="subsection" id="num">
                    <h3><code>num()</code></h3>
                        <pre><code class="hljs javascript">fschema.num()                     <span class="hljs-comment">// any number, including NaN</span><br />fschema.num().fin()               <span class="hljs-comment">// any number but Infinity, -Infinity and NaN</span><br />fschema.num().int()               <span class="hljs-comment">// any safe integer</span><br />fschema.num().min( <span class="hljs-number">1</span> ).max( <span class="hljs-number">10</span> )  <span class="hljs-comment">// any real in [1,10], inclusive</span><br />fschema.num().nat()               <span class="hljs-comment">// any safe, positive integer</span></code></pre>
                    <p></p>
                </div>
                <div class="subsection" id="str">
                    <h3><code>str()</code></h3>
                        <pre><code class="hljs javascript">fschema.str()                    <span class="hljs-comment">// any string</span><br />fschema.str().min( <span class="hljs-number">1</span> ).max( <span class="hljs-number">10</span> ) <span class="hljs-comment">// any string, length [1-10] inclusive</span><br />fschema.str().len( <span class="hljs-number">5</span> )           <span class="hljs-comment">// any string, length 5</span><br />fschema.str().pat( <span class="hljs-regexp">/hi/</span> )        <span class="hljs-comment">// any string matching pattern</span><br />fschema.str().ascii()            <span class="hljs-comment">// any printable ASCII string</span><br />fschema.str().slug()             <span class="hljs-comment">// e.g. "example-slug"</span><br />fschema.str().date8601()         <span class="hljs-comment">// e.g. "2006-10-21"</span><br />fschema.str().ipv4()             <span class="hljs-comment">// e.g. "192.168.1.100"</span><br />fschema.str().ipv6()             <span class="hljs-comment">// e.g. "2001:db8::abcd"</span><br />fschema.str().url()              <span class="hljs-comment">// e.g. "scheme://!$&amp;'()*+,;=hello!:1/path"</span></code></pre>
                    <p></p>
                </div>
                <div class="subsection" id="fun">
                    <h3><code>fun()</code></h3>
                        <pre><code class="hljs javascript">fschema.fun()<br />fschema.fun().min( <span class="hljs-number">1</span> ).max( <span class="hljs-number">2</span> )<br />fschema.fun().len( <span class="hljs-number">3</span> )</code></pre>
                    <p></p>
                </div>
                <div class="subsection" id="enum">
                    <h3><code>enum()</code></h3>
                        <pre><code class="hljs javascript">fschema.enum( <span class="hljs-string">'pending'</span>, <span class="hljs-string">'processing'</span>, <span class="hljs-string">'finished'</span> )<br />fschema.enum( ROLES.admin, ROLES.audit )<br />fschema.enum( ...flavors )</code></pre>
                    <p></p>
                </div>
                <div class="subsection" id="lit">
                    <h3><code>lit()</code></h3>
                        <pre><code class="hljs javascript">fschema.lit( <span class="hljs-number">42</span> )<br />fschema.lit( <span class="hljs-literal">true</span> )</code></pre>
                    <p></p>
                </div>
            </div>
            </section>

            <h2>Recursive Types</h2>
            <p></p>

            <div class="subsection" id="arr">
                <h3><code>arr()</code></h3>

                <p></p>
            </div>

            <div class="subsection" id="obj">
                <h3><code>obj()</code></h3>

                <p></p>
            </div>

            <div class="subsection" id="tup">
                <h3><code>tup()</code></h3>

                <p></p>
            </div>

            <div class="subsection" id="sum">
                <h3><code>sum()</code></h3>

                <p></p>
            </div>
            <h2>Special Types</h2>
            <p></p>
            <div class="subsection" id="scm">
                <h3><code>scm()</code></h3>

                <p></p>
            </div>

            <div class="subsection" id="none">
                <h3><code>none()</code></h3>

                <p></p>
            </div>
            <footer></footer>
        </section>

        <section>
            <header>
                <h1>Extending schemas</h1>
            </header>
            <p></p>
            <footer></footer>
        </section>

        <footer>

        </footer>
    </div>
</body>

</html>
